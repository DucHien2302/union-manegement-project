"""
Database setup script cho Union Management System
Ch·ªâ h·ªó tr·ª£ PostgreSQL database
"""
import sys
import os

# Th√™m th∆∞ m·ª•c g·ªëc c·ªßa project v√†o Python path
sys.path.append(os.path.join(os.path.dirname(__file__), '..', '..'))

# Load environment variables
from dotenv import load_dotenv
load_dotenv()

from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker
from datetime import datetime, timedelta
from infrastructure.database.connection import Base, db_manager
from infrastructure.database.models import MemberModel, ReportModel, TaskModel
from domain.entities.member import MemberType, MemberStatus
from domain.entities.report import ReportType, ReportStatus
from domain.entities.task import TaskPriority, TaskStatus


def create_tables():
    """T·∫°o c√°c b·∫£ng trong database"""
    try:
        engine = db_manager.get_engine()
        
        # T·∫°o t·∫•t c·∫£ c√°c b·∫£ng
        Base.metadata.create_all(engine)
        print("‚úÖ Database tables created successfully!")
        return True
        
    except Exception as e:
        print(f"‚ùå Error creating tables: {e}")
        return False


def drop_tables():
    """X√≥a t·∫•t c·∫£ c√°c b·∫£ng (s·ª≠ d·ª•ng c·∫©n th·∫≠n!)"""
    try:
        engine = db_manager.get_engine()
        
        # X√≥a t·∫•t c·∫£ c√°c b·∫£ng
        Base.metadata.drop_all(engine)
        print("‚ö†Ô∏è All tables dropped!")
        return True
        
    except Exception as e:
        print(f"‚ùå Error dropping tables: {e}")
        return False


def insert_sample_members():
    """Th√™m d·ªØ li·ªáu m·∫´u cho b·∫£ng members"""
    try:
        engine = db_manager.get_engine()
        Session = sessionmaker(bind=engine)
        session = Session()
        
        # Ki·ªÉm tra xem ƒë√£ c√≥ d·ªØ li·ªáu ch∆∞a
        existing_count = session.query(MemberModel).count()
        if existing_count > 0:
            print(f"üìä Members table already has {existing_count} records. Skipping sample data insertion.")
            session.close()
            return True
        
        sample_members = [
            MemberModel(
                member_code="DV001",
                full_name="Nguy·ªÖn VƒÉn An",
                date_of_birth=datetime(1985, 3, 15),
                gender="Nam",
                phone="0912345678",
                email="an.nguyen@company.com",
                address="123 ƒê∆∞·ªùng L√™ L·ª£i, Qu·∫≠n 1, TP.HCM",
                position="Tr∆∞·ªüng ph√≤ng K·∫ø to√°n",
                department="Ph√≤ng K·∫ø to√°n",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2020, 1, 15),
                notes="Th√†nh vi√™n t√≠ch c·ª±c, c√≥ kinh nghi·ªám l√†m vi·ªác 10 nƒÉm"
            ),
            MemberModel(
                member_code="DV002",
                full_name="Tr·∫ßn Th·ªã B√¨nh",
                date_of_birth=datetime(1990, 7, 22),
                gender="N·ªØ",
                phone="0987654321",
                email="binh.tran@company.com",
                address="456 ƒê∆∞·ªùng Nguy·ªÖn Hu·ªá, Qu·∫≠n 3, TP.HCM",
                position="Chuy√™n vi√™n Nh√¢n s·ª±",
                department="Ph√≤ng Nh√¢n s·ª±",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2021, 3, 10),
                notes="Nhi·ªát t√¨nh tham gia c√°c ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ"
            ),
            MemberModel(
                member_code="HV001",
                full_name="L√™ Minh C∆∞·ªùng",
                date_of_birth=datetime(1982, 11, 8),
                gender="Nam",
                phone="0909123456",
                email="cuong.le@company.com",
                address="789 ƒê∆∞·ªùng V√µ VƒÉn T·∫ßn, Qu·∫≠n 3, TP.HCM",
                position="Ph√≥ Gi√°m ƒë·ªëc",
                department="Ban Gi√°m ƒë·ªëc",
                member_type=MemberType.ASSOCIATION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2018, 6, 1),
                notes="L√£nh ƒë·∫°o c√≥ t·∫ßm nh√¨n chi·∫øn l∆∞·ª£c"
            ),
            MemberModel(
                member_code="BCH001",
                full_name="Ph·∫°m Th·ªã Dung",
                date_of_birth=datetime(1978, 4, 12),
                gender="N·ªØ",
                phone="0911987654",
                email="dung.pham@company.com",
                address="321 ƒê∆∞·ªùng Pasteur, Qu·∫≠n 1, TP.HCM",
                position="B√≠ th∆∞ ƒêo√†n thanh ni√™n",
                department="ƒêo√†n thanh ni√™n",
                member_type=MemberType.EXECUTIVE,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2015, 9, 15),
                notes="B√≠ th∆∞ c√≥ nhi·ªÅu ƒë√≥ng g√≥p cho t·ªï ch·ª©c"
            ),
            MemberModel(
                member_code="DV003",
                full_name="Ho√†ng VƒÉn Em",
                date_of_birth=datetime(1995, 12, 25),
                gender="Nam",
                phone="0988777666",
                email="em.hoang@company.com",
                address="654 ƒê∆∞·ªùng ƒêi·ªán Bi√™n Ph·ªß, Qu·∫≠n B√¨nh Th·∫°nh, TP.HCM",
                position="L·∫≠p tr√¨nh vi√™n",
                department="Ph√≤ng IT",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2022, 8, 20),
                notes="Th√†nh vi√™n tr·∫ª, nhi·ªÅu s√°ng t·∫°o"
            ),
            MemberModel(
                member_code="DV004",
                full_name="V√µ Th·ªã Ph∆∞∆°ng",
                date_of_birth=datetime(1988, 2, 14),
                gender="N·ªØ",
                phone="0977888999",
                email="phuong.vo@company.com",
                address="147 ƒê∆∞·ªùng C√°ch M·∫°ng Th√°ng 8, Qu·∫≠n 10, TP.HCM",
                position="K·∫ø to√°n vi√™n",
                department="Ph√≤ng K·∫ø to√°n",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.INACTIVE,
                join_date=datetime(2019, 5, 10),
                notes="T·∫°m ngh·ªâ vi·ªác ƒë·ªÉ chƒÉm s√≥c con nh·ªè"
            ),
            # Th√™m nhi·ªÅu members m·ªõi cho demo
            MemberModel(
                member_code="DV005",
                full_name="Nguy·ªÖn Th·ªã Giang",
                date_of_birth=datetime(1992, 9, 8),
                gender="N·ªØ",
                phone="0966555444",
                email="giang.nguyen@company.com",
                address="258 ƒê∆∞·ªùng Hai B√† Tr∆∞ng, Qu·∫≠n 1, TP.HCM",
                position="Chuy√™n vi√™n Marketing",
                department="Ph√≤ng Marketing",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2023, 1, 5),
                notes="S√°ng t·∫°o trong c√¥ng vi·ªác, t√≠ch c·ª±c tham gia ho·∫°t ƒë·ªông"
            ),
            MemberModel(
                member_code="DV006",
                full_name="ƒê·∫∑ng VƒÉn H∆∞ng",
                date_of_birth=datetime(1987, 6, 30),
                gender="Nam",
                phone="0933222111",
                email="hung.dang@company.com",
                address="369 ƒê∆∞·ªùng L√Ω T·ª± Tr·ªçng, Qu·∫≠n 3, TP.HCM",
                position="Tr∆∞·ªüng ph√≤ng Kinh doanh",
                department="Ph√≤ng Kinh doanh",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2019, 11, 20),
                notes="C√≥ nhi·ªÅu kinh nghi·ªám trong lƒ©nh v·ª±c kinh doanh"
            ),
            MemberModel(
                member_code="HV002",
                full_name="Phan Th·ªã Lan",
                date_of_birth=datetime(1975, 1, 18),
                gender="N·ªØ",
                phone="0922111333",
                email="lan.phan@company.com",
                address="741 ƒê∆∞·ªùng Nguy·ªÖn Th·ªã Minh Khai, Qu·∫≠n 3, TP.HCM",
                position="Gi√°m ƒë·ªëc T√†i ch√≠nh",
                department="Ban Gi√°m ƒë·ªëc",
                member_type=MemberType.ASSOCIATION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2017, 4, 12),
                notes="Chuy√™n gia t√†i ch√≠nh v·ªõi h∆°n 15 nƒÉm kinh nghi·ªám"
            ),
            MemberModel(
                member_code="DV007",
                full_name="V≈© VƒÉn Khang",
                date_of_birth=datetime(1993, 10, 5),
                gender="Nam",
                phone="0944666888",
                email="khang.vu@company.com",
                address="852 ƒê∆∞·ªùng S∆∞ V·∫°n H·∫°nh, Qu·∫≠n 10, TP.HCM",
                position="Thi·∫øt k·∫ø ƒë·ªì h·ªça",
                department="Ph√≤ng Marketing",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2023, 6, 15),
                notes="T√†i nƒÉng tr·∫ª trong lƒ©nh v·ª±c thi·∫øt k·∫ø"
            ),
            MemberModel(
                member_code="DV008",
                full_name="L√Ω Th·ªã Mai",
                date_of_birth=datetime(1991, 4, 25),
                gender="N·ªØ",
                phone="0955777999",
                email="mai.ly@company.com",
                address="159 ƒê∆∞·ªùng C·ªông H√≤a, Qu·∫≠n T√¢n B√¨nh, TP.HCM",
                position="Chuy√™n vi√™n Ph√°p ch·∫ø",
                department="Ph√≤ng Ph√°p ch·∫ø",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.SUSPENDED,
                join_date=datetime(2020, 8, 30),
                notes="T·∫°m ƒë√¨nh ch·ªâ do vi ph·∫°m n·ªôi quy c√¥ng ty"
            ),
            MemberModel(
                member_code="BCH002",
                full_name="T√¥ VƒÉn Nam",
                date_of_birth=datetime(1980, 12, 3),
                gender="Nam",
                phone="0911444555",
                email="nam.to@company.com",
                address="753 ƒê∆∞·ªùng Nguy·ªÖn VƒÉn C·ª´, Qu·∫≠n 5, TP.HCM",
                position="Ph√≥ B√≠ th∆∞ ƒêo√†n",
                department="ƒêo√†n thanh ni√™n",
                member_type=MemberType.EXECUTIVE,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2016, 2, 28),
                notes="H·ªó tr·ª£ t√≠ch c·ª±c cho c√°c ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ"
            ),
            MemberModel(
                member_code="DV009",
                full_name="Ng√¥ Th·ªã Oanh",
                date_of_birth=datetime(1994, 8, 14),
                gender="N·ªØ",
                phone="0977123789",
                email="oanh.ngo@company.com",
                address="456 ƒê∆∞·ªùng L√™ VƒÉn S·ªπ, Qu·∫≠n Ph√∫ Nhu·∫≠n, TP.HCM",
                position="Chuy√™n vi√™n Quan h·ªá kh√°ch h√†ng",
                department="Ph√≤ng Kinh doanh",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2022, 12, 1),
                notes="C√≥ kh·∫£ nƒÉng giao ti·∫øp t·ªët v·ªõi kh√°ch h√†ng"
            ),
            MemberModel(
                member_code="DV010",
                full_name="B√πi VƒÉn Ph√∫c",
                date_of_birth=datetime(1989, 5, 22),
                gender="Nam",
                phone="0988456123",
                email="phuc.bui@company.com",
                address="987 ƒê∆∞·ªùng Ho√†ng VƒÉn Th·ª•, Qu·∫≠n T√¢n B√¨nh, TP.HCM",
                position="Chuy√™n vi√™n K·ªπ thu·∫≠t",
                department="Ph√≤ng K·ªπ thu·∫≠t",
                member_type=MemberType.UNION_MEMBER,
                status=MemberStatus.INACTIVE,
                join_date=datetime(2018, 7, 15),
                notes="Ngh·ªâ ph√©p d√†i h·∫°n do ch·∫•n th∆∞∆°ng"
            ),
            MemberModel(
                member_code="HV003",
                full_name="ƒê·ªó Th·ªã Qu·ª≥nh",
                date_of_birth=datetime(1983, 11, 10),
                gender="N·ªØ",
                phone="0933789456",
                email="quynh.do@company.com",
                address="321 ƒê∆∞·ªùng Tr·∫ßn H∆∞ng ƒê·∫°o, Qu·∫≠n 1, TP.HCM",
                position="Tr∆∞·ªüng ph√≤ng Nh√¢n s·ª±",
                department="Ph√≤ng Nh√¢n s·ª±",
                member_type=MemberType.ASSOCIATION_MEMBER,
                status=MemberStatus.ACTIVE,
                join_date=datetime(2019, 3, 18),
                notes="C√≥ chuy√™n m√¥n cao trong qu·∫£n l√Ω nh√¢n s·ª±"
            )
        ]
        
        # Th√™m d·ªØ li·ªáu v√†o session
        session.add_all(sample_members)
        session.commit()
        session.close()
        
        print(f"‚úÖ Successfully inserted {len(sample_members)} sample members!")
        return True
        
    except Exception as e:
        print(f"‚ùå Error inserting sample members: {e}")
        if 'session' in locals():
            session.rollback()
            session.close()
        return False


def insert_sample_reports():
    """Th√™m d·ªØ li·ªáu m·∫´u cho b·∫£ng reports"""
    try:
        engine = db_manager.get_engine()
        Session = sessionmaker(bind=engine)
        session = Session()
        
        # Ki·ªÉm tra xem ƒë√£ c√≥ d·ªØ li·ªáu ch∆∞a
        existing_count = session.query(ReportModel).count()
        if existing_count > 0:
            print(f"üìä Reports table already has {existing_count} records. Skipping sample data insertion.")
            session.close()
            return True
        
        # L·∫•y m·ªôt s·ªë member ID ƒë·ªÉ l√†m submitted_by v√† approved_by
        member_ids = session.query(MemberModel.id).limit(3).all()
        if not member_ids:
            print("‚ö†Ô∏è No members found. Please insert members first.")
            session.close()
            return False
        
        member_ids = [mid[0] for mid in member_ids]
        
        sample_reports = [
            ReportModel(
                title="B√°o c√°o ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ th√°ng 1/2024",
                report_type=ReportType.MONTHLY,
                period="2024-01",
                content="""
### B√°o c√°o ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ th√°ng 1/2024

**I. T√¨nh h√¨nh th√†nh vi√™n:**
- T·ªïng s·ªë ƒëo√†n vi√™n: 150 ng∆∞·ªùi
- S·ªë ƒëo√†n vi√™n tham gia ho·∫°t ƒë·ªông: 135 ng∆∞·ªùi (90%)

**II. C√°c ho·∫°t ƒë·ªông ƒë√£ th·ª±c hi·ªán:**
1. T·ªï ch·ª©c h·ªçp m·∫∑t ƒë·∫ßu nƒÉm
2. Tri·ªÉn khai k·∫ø ho·∫°ch ho·∫°t ƒë·ªông nƒÉm 2024
3. ThƒÉm h·ªèi ƒëo√†n vi√™n c√≥ ho√†n c·∫£nh kh√≥ khƒÉn

**III. T√†i ch√≠nh:**
- Thu: 15,000,000 VNƒê
- Chi: 12,000,000 VNƒê
- T·ªìn qu·ªπ: 3,000,000 VNƒê

**IV. K·∫ø ho·∫°ch th√°ng t·ªõi:**
- T·ªï ch·ª©c ho·∫°t ƒë·ªông t·ª´ thi·ªán
- Tri·ªÉn khai ch∆∞∆°ng tr√¨nh ƒë√†o t·∫°o k·ªπ nƒÉng
                """,
                attachments='[{"name": "bang_thong_ke_01_2024.xlsx", "path": "/uploads/reports/bang_thong_ke_01_2024.xlsx"}]',
                status=ReportStatus.APPROVED,
                submitted_by=member_ids[0],
                submitted_at=datetime(2024, 2, 5, 9, 30),
                approved_by=member_ids[1],
                approved_at=datetime(2024, 2, 6, 14, 15)
            ),
            ReportModel(
                title="B√°o c√°o qu√Ω I/2024",
                report_type=ReportType.QUARTERLY,
                period="Q1-2024",
                content="""
### B√°o c√°o t·ªïng k·∫øt qu√Ω I/2024

**I. T·ªïng quan:**
Qu√Ω I/2024 l√† qu√Ω kh·ªüi ƒë·∫ßu nƒÉm v·ªõi nhi·ªÅu ho·∫°t ƒë·ªông t√≠ch c·ª±c c·ªßa t·ªï ch·ª©c ƒëo√†n th·ªÉ.

**II. C√°c ch·ªâ ti√™u ƒë·∫°t ƒë∆∞·ª£c:**
- T·ª∑ l·ªá tham gia ho·∫°t ƒë·ªông: 85%
- S·ªë ho·∫°t ƒë·ªông t·ªï ch·ª©c: 15 ho·∫°t ƒë·ªông
- S·ªë ƒëo√†n vi√™n m·ªõi: 8 ng∆∞·ªùi

**III. Nh·ªØng th√†nh t·ª±u n·ªïi b·∫≠t:**
1. Th√†nh c√¥ng trong vi·ªác t·ªï ch·ª©c H·ªôi ngh·ªã ƒë·∫°i bi·ªÉu
2. Tri·ªÉn khai hi·ªáu qu·∫£ ch∆∞∆°ng tr√¨nh an sinh x√£ h·ªôi
3. TƒÉng c∆∞·ªùng k·∫øt n·ªëi gi·ªØa c√°c ƒëo√†n vi√™n

**IV. Kh√≥ khƒÉn v√† th√°ch th·ª©c:**
- M·ªôt s·ªë ƒëo√†n vi√™n ch∆∞a t√≠ch c·ª±c tham gia
- Ngu·ªìn kinh ph√≠ h·∫°n ch·∫ø cho c√°c ho·∫°t ƒë·ªông l·ªõn

**V. ƒê·ªãnh h∆∞·ªõng qu√Ω II:**
- TƒÉng c∆∞·ªùng c√°c ho·∫°t ƒë·ªông g·∫Øn k·∫øt
- M·ªü r·ªông c√°c ch∆∞∆°ng tr√¨nh h·ªó tr·ª£ ƒëo√†n vi√™n
                """,
                attachments='[{"name": "bao_cao_quy_1_2024.pdf", "path": "/uploads/reports/bao_cao_quy_1_2024.pdf"}, {"name": "bang_bieu_thong_ke.xlsx", "path": "/uploads/reports/bang_bieu_thong_ke.xlsx"}]',
                status=ReportStatus.SUBMITTED,
                submitted_by=member_ids[1],
                submitted_at=datetime(2024, 4, 10, 16, 45)
            ),
            ReportModel(
                title="B√°o c√°o t·ªïng k·∫øt nƒÉm 2023",
                report_type=ReportType.ANNUAL,
                period="2023",
                content="""
### B√°o c√°o t·ªïng k·∫øt ho·∫°t ƒë·ªông nƒÉm 2023

**I. T√¨nh h√¨nh chung:**
NƒÉm 2023 l√† nƒÉm ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh t·ª±u quan tr·ªçng trong ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ.

**II. C√°c ch·ªâ s·ªë quan tr·ªçng:**
- T·ªïng s·ªë ƒëo√†n vi√™n cu·ªëi nƒÉm: 145 ng∆∞·ªùi (tƒÉng 15 ng∆∞·ªùi so v·ªõi ƒë·∫ßu nƒÉm)
- T·ª∑ l·ªá tham gia ho·∫°t ƒë·ªông trung b√¨nh: 88%
- S·ªë ho·∫°t ƒë·ªông t·ªï ch·ª©c: 48 ho·∫°t ƒë·ªông
- T·ªïng kinh ph√≠ ho·∫°t ƒë·ªông: 180,000,000 VNƒê

**III. Nh·ªØng th√†nh t·ª±u n·ªïi b·∫≠t:**
1. Th√†nh c√¥ng t·ªï ch·ª©c ƒê·∫°i h·ªôi ƒëo√†n vi√™n l·∫ßn th·ª© V
2. Tri·ªÉn khai hi·ªáu qu·∫£ 5 ch∆∞∆°ng tr√¨nh l·ªõn
3. H·ªó tr·ª£ 25 gia ƒë√¨nh ƒëo√†n vi√™n c√≥ ho√†n c·∫£nh kh√≥ khƒÉn
4. T·ªï ch·ª©c th√†nh c√¥ng 3 chuy·∫øn du l·ªãch g·∫Øn k·∫øt

**IV. C√¥ng t√°c t√†i ch√≠nh:**
- T·ªïng thu: 200,000,000 VNƒê
- T·ªïng chi: 180,000,000 VNƒê
- D∆∞ qu·ªπ cu·ªëi nƒÉm: 20,000,000 VNƒê

**V. K·∫ø ho·∫°ch nƒÉm 2024:**
- M·ª•c ti√™u tƒÉng 20 ƒëo√†n vi√™n m·ªõi
- Tri·ªÉn khai 6 ch∆∞∆°ng tr√¨nh tr·ªçng ƒëi·ªÉm
- N√¢ng cao ch·∫•t l∆∞·ª£ng c√°c ho·∫°t ƒë·ªông
                """,
                attachments='[{"name": "bao_cao_nam_2023_full.pdf", "path": "/uploads/reports/bao_cao_nam_2023_full.pdf"}, {"name": "tai_chinh_2023.xlsx", "path": "/uploads/reports/tai_chinh_2023.xlsx"}, {"name": "hinh_anh_hoat_dong_2023.zip", "path": "/uploads/reports/hinh_anh_hoat_dong_2023.zip"}]',
                status=ReportStatus.APPROVED,
                submitted_by=member_ids[2],
                submitted_at=datetime(2024, 1, 15, 10, 0),
                approved_by=member_ids[0],
                approved_at=datetime(2024, 1, 20, 11, 30)
            ),
            ReportModel(
                title="B√°o c√°o ƒë·∫∑c bi·ªát: Ho·∫°t ƒë·ªông ·ª©ng ph√≥ COVID-19",
                report_type=ReportType.SPECIAL,
                period="2023-Special",
                content="""
### B√°o c√°o ƒë·∫∑c bi·ªát: Ho·∫°t ƒë·ªông ·ª©ng ph√≥ v·ªõi t√¨nh h√¨nh COVID-19

**I. B·ªëi c·∫£nh:**
Trong b·ªëi c·∫£nh d·ªãch COVID-19 di·ªÖn bi·∫øn ph·ª©c t·∫°p, t·ªï ch·ª©c ƒë√£ tri·ªÉn khai nhi·ªÅu ho·∫°t ƒë·ªông h·ªó tr·ª£ ƒëo√†n vi√™n.

**II. C√°c ho·∫°t ƒë·ªông ƒë√£ th·ª±c hi·ªán:**

**1. H·ªó tr·ª£ y t·∫ø:**
- Ph√°t 500 kh·∫©u trang N95
- T·∫∑ng 200 b·ªô kit test nhanh
- H·ªó tr·ª£ thu·ªëc ƒëi·ªÅu tr·ªã cho 30 gia ƒë√¨nh

**2. H·ªó tr·ª£ kinh t·∫ø:**
- H·ªó tr·ª£ ti·ªÅn m·∫∑t cho 15 gia ƒë√¨nh kh√≥ khƒÉn (5,000,000 VNƒê/gia ƒë√¨nh)
- Ph√°t 100 su·∫•t qu√† g·ªìm g·∫°o, d·∫ßu ƒÉn, th·ª±c ph·∫©m kh√¥

**3. H·ªó tr·ª£ tinh th·∫ßn:**
- T·ªï ch·ª©c 10 bu·ªïi t∆∞ v·∫•n t√¢m l√Ω online
- K·∫øt n·ªëi h·ªó tr·ª£ gi·ªØa c√°c ƒëo√†n vi√™n

**III. K·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c:**
- 100% ƒëo√†n vi√™n ƒë∆∞·ª£c h·ªó tr·ª£ th√¥ng tin v·ªÅ ph√≤ng ch·ªëng d·ªãch
- 90% ƒëo√†n vi√™n v√† gia ƒë√¨nh ƒë∆∞·ª£c ti√™m vaccine ƒë·∫ßy ƒë·ªß
- Kh√¥ng c√≥ ca n√†o di·ªÖn bi·∫øn n·∫∑ng trong t·ªï ch·ª©c

**IV. Kinh ph√≠ s·ª≠ d·ª•ng:**
- T·ªïng chi: 120,000,000 VNƒê
- Ngu·ªìn: Qu·ªπ d·ª± ph√≤ng t·ªï ch·ª©c (60%) + Quy√™n g√≥p ƒëo√†n vi√™n (40%)

**V. B√†i h·ªçc kinh nghi·ªám:**
- T·∫ßm quan tr·ªçng c·ªßa vi·ªác chu·∫©n b·ªã s·∫µn s√†ng
- S·ª©c m·∫°nh c·ªßa s·ª± ƒëo√†n k·∫øt, t∆∞∆°ng tr·ª£
- C·∫ßn x√¢y d·ª±ng qu·ªπ d·ª± ph√≤ng l·ªõn h∆°n cho c√°c t√¨nh hu·ªëng kh·∫©n c·∫•p
                """,
                attachments='[{"name": "danh_sach_ho_tro_covid.xlsx", "path": "/uploads/reports/danh_sach_ho_tro_covid.xlsx"}, {"name": "bien_ban_phat_qua.pdf", "path": "/uploads/reports/bien_ban_phat_qua.pdf"}]',
                status=ReportStatus.DRAFT,
                submitted_by=None,
                submitted_at=None
            ),
            ReportModel(
                title="B√°o c√°o ho·∫°t ƒë·ªông th√°ng 3/2024 (D·ª± th·∫£o)",
                report_type=ReportType.MONTHLY,
                period="2024-03",
                content="""
### D·ª± th·∫£o b√°o c√°o ho·∫°t ƒë·ªông th√°ng 3/2024

**I. C√°c ho·∫°t ƒë·ªông ch√≠nh:**
1. T·ªï ch·ª©c Ng√†y Qu·ªëc t·∫ø Ph·ª• n·ªØ 8/3
2. Tri·ªÉn khai ch∆∞∆°ng tr√¨nh "M√πa xu√¢n t√¨nh nguy·ªán"
3. H·ªçp m·∫∑t giao l∆∞u v·ªõi c√°c ƒëo√†n th·ªÉ b·∫°n

**II. T√¨nh h√¨nh t√†i ch√≠nh:**
- Thu trong th√°ng: 8,500,000 VNƒê
- Chi trong th√°ng: 7,200,000 VNƒê

**III. K·∫ø ho·∫°ch th√°ng 4:**
- Chu·∫©n b·ªã cho ho·∫°t ƒë·ªông Th√°ng Thanh ni√™n
- T·ªï ch·ª©c kh√≥a ƒë√†o t·∫°o k·ªπ nƒÉng l√£nh ƒë·∫°o

*(B√°o c√°o ƒëang ƒë∆∞·ª£c ho√†n thi·ªán)*
                """,
                attachments='[]',
                status=ReportStatus.DRAFT,
                submitted_by=None,
                submitted_at=None
            ),
            # Th√™m nhi·ªÅu reports m·ªõi cho demo bulk actions
            ReportModel(
                title="B√°o c√°o ho·∫°t ƒë·ªông th√°ng 2/2024",
                report_type=ReportType.MONTHLY,
                period="2024-02",
                content="""
### B√°o c√°o ho·∫°t ƒë·ªông th√°ng 2/2024

**I. Ho·∫°t ƒë·ªông n·ªïi b·∫≠t:**
1. T·ªï ch·ª©c T·∫øt truy·ªÅn th·ªëng cho ƒëo√†n vi√™n
2. Ch∆∞∆°ng tr√¨nh thƒÉm h·ªèi T·∫øt cho gia ƒë√¨nh kh√≥ khƒÉn  
3. H·ªôi ngh·ªã tri·ªÉn khai nhi·ªám v·ª• nƒÉm 2024

**II. K·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c:**
- T·ªï ch·ª©c th√†nh c√¥ng 5 ho·∫°t ƒë·ªông l·ªõn
- H·ªó tr·ª£ 30 gia ƒë√¨nh c√≥ ho√†n c·∫£nh kh√≥ khƒÉn
- T·ª∑ l·ªá tham gia ho·∫°t ƒë·ªông: 92%

**III. T√†i ch√≠nh th√°ng 2:**
- Thu: 18,000,000 VNƒê
- Chi: 15,500,000 VNƒê  
- D∆∞: 2,500,000 VNƒê
                """,
                attachments='[{"name": "hinh_anh_tet_2024.zip", "path": "/uploads/reports/hinh_anh_tet_2024.zip"}]',
                status=ReportStatus.SUBMITTED,
                submitted_by=member_ids[0],
                submitted_at=datetime(2024, 3, 2, 8, 30)
            ),
            ReportModel(
                title="B√°o c√°o ho·∫°t ƒë·ªông th√°ng 4/2024",
                report_type=ReportType.MONTHLY,
                period="2024-04",
                content="""
### B√°o c√°o ho·∫°t ƒë·ªông th√°ng 4/2024

**I. Th√°ng thanh ni√™n 2024:**
1. H·ªôi tr·∫°i thanh ni√™n "Tu·ªïi tr·∫ª nƒÉng ƒë·ªông"
2. Ch∆∞∆°ng tr√¨nh t√¨nh nguy·ªán v·ªá sinh m√¥i tr∆∞·ªùng
3. Thi t√¨m hi·ªÉu l·ªãch s·ª≠ ƒêo√†n TNCS H·ªì Ch√≠ Minh

**II. C√°c ch·ªâ s·ªë ƒë·∫°t ƒë∆∞·ª£c:**
- S·ªë ƒëo√†n vi√™n tham gia: 140/150 (93.3%)
- S·ªë ho·∫°t ƒë·ªông t·ªï ch·ª©c: 8 ho·∫°t ƒë·ªông
- ƒêi·ªÉm ƒë√°nh gi√° ho·∫°t ƒë·ªông: 9.2/10

**III. Nh·ªØng ƒëi·ªÉm n·ªïi b·∫≠t:**
- TƒÉng c∆∞·ªùng tinh th·∫ßn ƒëo√†n k·∫øt
- N√¢ng cao √Ω th·ª©c tr√°ch nhi·ªám x√£ h·ªôi
- Ph√°t huy s√°ng ki·∫øn c·ªßa thanh ni√™n
                """,
                attachments='[{"name": "bang_diem_thi_tim_hieu.xlsx", "path": "/uploads/reports/bang_diem_thi_tim_hieu.xlsx"}]',
                status=ReportStatus.SUBMITTED,
                submitted_by=member_ids[1],
                submitted_at=datetime(2024, 5, 3, 14, 20)
            ),
            ReportModel(
                title="B√°o c√°o t√¨nh h√¨nh t√†i ch√≠nh 6 th√°ng ƒë·∫ßu nƒÉm 2024",
                report_type=ReportType.SPECIAL,
                period="2024-H1",
                content="""
### B√°o c√°o t√†i ch√≠nh 6 th√°ng ƒë·∫ßu nƒÉm 2024

**I. T·ªïng quan:**
6 th√°ng ƒë·∫ßu nƒÉm 2024 t·ªï ch·ª©c duy tr√¨ ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh v·ªÅ t√†i ch√≠nh.

**II. Thu nh·∫≠p:**
- Ph√≠ ƒëo√†n vi√™n: 90,000,000 VNƒê
- T√†i tr·ª£ t·ª´ ƒë∆°n v·ªã: 50,000,000 VNƒê
- C√°c kho·∫£n thu kh√°c: 10,000,000 VNƒê
- **T·ªïng thu: 150,000,000 VNƒê**

**III. Chi ph√≠:**
- Ho·∫°t ƒë·ªông ƒëo√†n th·ªÉ: 85,000,000 VNƒê
- H·ªó tr·ª£ ƒëo√†n vi√™n: 35,000,000 VNƒê
- Chi ph√≠ qu·∫£n l√Ω: 15,000,000 VNƒê
- **T·ªïng chi: 135,000,000 VNƒê**

**IV. K·∫øt qu·∫£:**
- **D∆∞ thu: 15,000,000 VNƒê**
- T√¨nh h√¨nh t√†i ch√≠nh l√†nh m·∫°nh
- ƒê·∫£m b·∫£o ho·∫°t ƒë·ªông 6 th√°ng cu·ªëi nƒÉm
                """,
                attachments='[{"name": "bang_can_doi_tai_chinh_h1_2024.xlsx", "path": "/uploads/reports/bang_can_doi_tai_chinh_h1_2024.xlsx"}]',
                status=ReportStatus.DRAFT,
                submitted_by=None,
                submitted_at=None
            ),
            ReportModel(
                title="B√°o c√°o ho·∫°t ƒë·ªông th√°ng 5/2024",
                report_type=ReportType.MONTHLY,
                period="2024-05",
                content="""
### B√°o c√°o ho·∫°t ƒë·ªông th√°ng 5/2024

**I. C√°c ho·∫°t ƒë·ªông ch√≠nh:**
1. T·ªï ch·ª©c l·ªÖ k·ª∑ ni·ªám ng√†y th√†nh l·∫≠p ƒêo√†n TNCS HCM
2. Ch∆∞∆°ng tr√¨nh trao t·∫∑ng h·ªçc b·ªïng cho con em ƒëo√†n vi√™n
3. H·ªôi thi t√†i nƒÉng c·ªßa ƒëo√†n vi√™n tr·∫ª

**II. K·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c:**
- Trao 15 su·∫•t h·ªçc b·ªïng, t·ªïng gi√° tr·ªã 45,000,000 VNƒê
- 25 ti·∫øt m·ª•c tham gia h·ªôi thi t√†i nƒÉng
- T·ª∑ l·ªá tham gia ho·∫°t ƒë·ªông: 88%

**III. ƒê√°nh gi√°:**
- Ho·∫°t ƒë·ªông ƒë·∫°t hi·ªáu qu·∫£ cao
- ƒêo√†n vi√™n h∆∞·ªüng ·ª©ng t√≠ch c·ª±c
- T·∫°o s√¢n ch∆°i b·ªï √≠ch cho thanh ni√™n
                """,
                attachments='[]',
                status=ReportStatus.SUBMITTED,
                submitted_by=member_ids[2],
                submitted_at=datetime(2024, 6, 1, 16, 45)
            ),
            ReportModel(
                title="B√°o c√°o qu√Ω II/2024",
                report_type=ReportType.QUARTERLY,
                period="Q2-2024",
                content="""
### B√°o c√°o qu√Ω II/2024

**I. T·ªïng quan qu√Ω II:**
Qu√Ω II ƒë√£ tri·ªÉn khai nhi·ªÅu ho·∫°t ƒë·ªông √Ω nghƒ©a, ƒë·∫∑c bi·ªát l√† Th√°ng Thanh ni√™n.

**II. C√°c ch·ªâ ti√™u ho√†n th√†nh:**
- S·ªë ho·∫°t ƒë·ªông: 18 ho·∫°t ƒë·ªông (v∆∞·ª£t k·∫ø ho·∫°ch 20%)
- T·ª∑ l·ªá tham gia: 89% (ƒë·∫°t ch·ªâ ti√™u 85%)
- S·ªë ƒëo√†n vi√™n m·ªõi: 5 ng∆∞·ªùi

**III. Ho·∫°t ƒë·ªông n·ªïi b·∫≠t:**
1. Th√°ng Thanh ni√™n v·ªõi 8 ho·∫°t ƒë·ªông ƒëa d·∫°ng
2. Ch∆∞∆°ng tr√¨nh h·ªçc b·ªïng √Ω nghƒ©a
3. C√°c ho·∫°t ƒë·ªông giao l∆∞u vƒÉn h√≥a - th·ªÉ thao

**IV. Kh√≥ khƒÉn:**
- Th·ªùi ti·∫øt m∆∞a nhi·ªÅu ·∫£nh h∆∞·ªüng m·ªôt s·ªë ho·∫°t ƒë·ªông ngo√†i tr·ªùi
- M·ªôt s·ªë ƒëo√†n vi√™n b·∫≠n c√¥ng vi·ªác ch∆∞a tham gia ƒë·∫ßy ƒë·ªß
                """,
                attachments='[{"name": "bao_cao_quy_2_2024.pdf", "path": "/uploads/reports/bao_cao_quy_2_2024.pdf"}]',
                status=ReportStatus.DRAFT,
                submitted_by=None,
                submitted_at=None
            ),
            ReportModel(
                title="B√°o c√°o ƒë·∫∑c bi·ªát: Ho·∫°t ƒë·ªông h√® 2024",
                report_type=ReportType.SPECIAL,
                period="2024-Summer",
                content="""
### B√°o c√°o ho·∫°t ƒë·ªông h√® 2024

**I. T·ªïng quan:**
M√πa h√® 2024 v·ªõi nhi·ªÅu ho·∫°t ƒë·ªông b·ªï √≠ch cho ƒëo√†n vi√™n v√† thanh thi·∫øu nhi.

**II. C√°c ch∆∞∆°ng tr√¨nh ƒë√£ tri·ªÉn khai:**
1. **Tr·∫°i h√® thanh ni√™n 2024:**
   - 60 ƒëo√†n vi√™n tham gia
   - Th·ªùi gian: 3 ng√†y 2 ƒë√™m t·∫°i ƒê√† L·∫°t
   - Ng√¢n s√°ch: 120,000,000 VNƒê

2. **L·ªõp h·ªçc h√® cho con em ƒëo√†n vi√™n:**
   - 40 em tham gia
   - C√°c m√¥n: To√°n, VƒÉn, Ti·∫øng Anh, Tin h·ªçc
   - Mi·ªÖn ph√≠ 100%

3. **Ch∆∞∆°ng tr√¨nh t√¨nh nguy·ªán m√πa h√®:**
   - D·∫°y h·ªçc cho tr·∫ª em v√πng kh√≥ khƒÉn
   - 20 t√¨nh nguy·ªán vi√™n tham gia
   - Th·ªùi gian: 2 tu·∫ßn

**III. K·∫øt qu·∫£ ƒë·∫°t ƒë∆∞·ª£c:**
- TƒÉng c∆∞·ªùng k·ªπ nƒÉng s·ªëng cho ƒëo√†n vi√™n
- N√¢ng cao tinh th·∫ßn t√¨nh nguy·ªán
- H·ªó tr·ª£ gi√°o d·ª•c cho con em ƒëo√†n vi√™n
                """,
                attachments='[{"name": "album_anh_he_2024.zip", "path": "/uploads/reports/album_anh_he_2024.zip"}]',
                status=ReportStatus.SUBMITTED,
                submitted_by=member_ids[0],
                submitted_at=datetime(2024, 8, 15, 10, 30)
            )
        ]
        
        # Th√™m d·ªØ li·ªáu v√†o session
        session.add_all(sample_reports)
        session.commit()
        session.close()
        
        print(f"‚úÖ Successfully inserted {len(sample_reports)} sample reports!")
        return True
        
    except Exception as e:
        print(f"‚ùå Error inserting sample reports: {e}")
        if 'session' in locals():
            session.rollback()
            session.close()
        return False


def insert_sample_tasks():
    """Th√™m d·ªØ li·ªáu m·∫´u cho b·∫£ng tasks"""
    try:
        engine = db_manager.get_engine()
        Session = sessionmaker(bind=engine)
        session = Session()
        
        # Ki·ªÉm tra xem ƒë√£ c√≥ d·ªØ li·ªáu ch∆∞a
        existing_count = session.query(TaskModel).count()
        if existing_count > 0:
            print(f"üìä Tasks table already has {existing_count} records. Skipping sample data insertion.")
            session.close()
            return True
        
        # L·∫•y m·ªôt s·ªë member ID ƒë·ªÉ l√†m assigned_to v√† assigned_by
        member_ids = session.query(MemberModel.id).limit(4).all()
        if not member_ids:
            print("‚ö†Ô∏è No members found. Please insert members first.")
            session.close()
            return False
        
        member_ids = [mid[0] for mid in member_ids]
        
        # T√≠nh to√°n c√°c ng√†y
        now = datetime.now()
        yesterday = now - timedelta(days=1)
        tomorrow = now + timedelta(days=1)
        next_week = now + timedelta(days=7)
        next_month = now + timedelta(days=30)
        last_week = now - timedelta(days=7)
        
        sample_tasks = [
            TaskModel(
                title="Chu·∫©n b·ªã t√†i li·ªáu cho ƒê·∫°i h·ªôi ƒëo√†n vi√™n",
                description="""
Chu·∫© b·ªã ƒë·∫ßy ƒë·ªß t√†i li·ªáu c·∫ßn thi·∫øt cho ƒê·∫°i h·ªôi ƒëo√†n vi√™n l·∫ßn th·ª© VI:

**C·∫ßn l√†m:**
1. So·∫°n th·∫£o b√°o c√°o t·ªïng k·∫øt nhi·ªám k·ª≥
2. Chu·∫©n b·ªã b·∫£ng bi·ªÉu th·ªëng k√™
3. Thi·∫øt k·∫ø slide thuy·∫øt tr√¨nh
4. In ·∫•n t√†i li·ªáu ph√°t cho ƒë·∫°i bi·ªÉu
5. Chu·∫©n b·ªã danh s√°ch ƒë·∫°i bi·ªÉu tham d·ª±

**Y√™u c·∫ßu:**
- T√†i li·ªáu ph·∫£i ƒë∆∞·ª£c ho√†n th√†nh tr∆∞·ªõc 3 ng√†y
- C·∫ßn ƒë·∫£m b·∫£o t√≠nh ch√≠nh x√°c v√† ƒë·∫ßy ƒë·ªß
- Thi·∫øt k·∫ø ph·∫£i chuy√™n nghi·ªáp v√† d·ªÖ ƒë·ªçc
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.IN_PROGRESS,
                assigned_to=member_ids[0],
                assigned_by=member_ids[3],
                start_date=last_week,
                due_date=next_week,
                estimated_hours=40.0,
                actual_hours=25.0,
                progress_percentage=65,
                notes="ƒê√£ ho√†n th√†nh ph·∫ßn b√°o c√°o t·ªïng k·∫øt, ƒëang l√†m slide thuy·∫øt tr√¨nh"
            ),
            TaskModel(
                title="T·ªï ch·ª©c ho·∫°t ƒë·ªông t·ª´ thi·ªán th√°ng 4",
                description="""
L√™n k·∫ø ho·∫°ch v√† t·ªï ch·ª©c ho·∫°t ƒë·ªông t·ª´ thi·ªán nh√¢n d·ªãp Th√°ng Thanh ni√™n:

**C√°c b∆∞·ªõc th·ª±c hi·ªán:**
1. Kh·∫£o s√°t v√† ch·ªçn ƒë·ªëi t∆∞·ª£ng th·ª• h∆∞·ªüng
2. L·∫≠p k·∫ø ho·∫°ch chi ti·∫øt cho ho·∫°t ƒë·ªông
3. V·∫≠n ƒë·ªông ƒë√≥ng g√≥p t·ª´ ƒëo√†n vi√™n
4. Chu·∫©n b·ªã qu√† t·∫∑ng v√† nhu y·∫øu ph·∫©m
5. T·ªï ch·ª©c th·ª±c hi·ªán ho·∫°t ƒë·ªông
6. B√°o c√°o k·∫øt qu·∫£

**M·ª•c ti√™u:**
- H·ªó tr·ª£ √≠t nh·∫•t 20 gia ƒë√¨nh kh√≥ khƒÉn
- T·ªïng gi√° tr·ªã h·ªó tr·ª£: 50,000,000 VNƒê
- T·∫°o kh√¥ng kh√≠ ƒëo√†n k·∫øt trong t·ªï ch·ª©c
                """,
                priority=TaskPriority.MEDIUM,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[1],
                assigned_by=member_ids[3],
                start_date=tomorrow,
                due_date=next_month,
                estimated_hours=60.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="Ch∆∞a b·∫Øt ƒë·∫ßu, c·∫ßn h·ªçp b√†n ph∆∞∆°ng √°n th·ª±c hi·ªán"
            ),
            TaskModel(
                title="C·∫≠p nh·∫≠t website v√† fanpage t·ªï ch·ª©c",
                description="""
N√¢ng c·∫•p v√† c·∫≠p nh·∫≠t n·ªôi dung website c≈©ng nh∆∞ fanpage Facebook c·ªßa t·ªï ch·ª©c:

**Website:**
1. C·∫≠p nh·∫≠t th√¥ng tin v·ªÅ Ban ch·∫•p h√†nh m·ªõi
2. ƒêƒÉng t·∫£i c√°c b√†i vi·∫øt v·ªÅ ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y
3. C·∫≠p nh·∫≠t th∆∞ vi·ªán ·∫£nh ho·∫°t ƒë·ªông
4. T·ªëi ∆∞u SEO cho website
5. Ki·ªÉm tra v√† s·ª≠a l·ªói hi·ªÉn th·ªã

**Fanpage Facebook:**
1. Thi·∫øt k·∫ø l·∫°i cover photo
2. ƒêƒÉng b√†i th∆∞·ªùng xuy√™n (3 b√†i/tu·∫ßn)
3. T∆∞∆°ng t√°c v·ªõi c√°c b√¨nh lu·∫≠n
4. Livestream c√°c s·ª± ki·ªán quan tr·ªçng
5. Qu·∫£ng b√° c√°c ho·∫°t ƒë·ªông s·∫Øp t·ªõi

**Y√™u c·∫ßu k·ªπ thu·∫≠t:**
- S·ª≠ d·ª•ng WordPress cho website
- T√≠ch h·ª£p Google Analytics
- ƒê·∫£m b·∫£o responsive tr√™n mobile
                """,
                priority=TaskPriority.LOW,
                status=TaskStatus.COMPLETED,
                assigned_to=member_ids[2],
                assigned_by=member_ids[0],
                start_date=datetime(2024, 2, 1),
                due_date=datetime(2024, 3, 15),
                completed_date=datetime(2024, 3, 10),
                estimated_hours=25.0,
                actual_hours=28.0,
                progress_percentage=100,
                notes="ƒê√£ ho√†n th√†nh to√†n b·ªô c√¥ng vi·ªác. Website m·ªõi ƒë√£ ƒë∆∞·ª£c tri·ªÉn khai th√†nh c√¥ng."
            ),
            TaskModel(
                title="So·∫°n th·∫£o quy ch·∫ø ho·∫°t ƒë·ªông m·ªõi",
                description="""
X√¢y d·ª±ng quy ch·∫ø ho·∫°t ƒë·ªông m·ªõi cho t·ªï ch·ª©c ƒëo√†n th·ªÉ, thay th·∫ø quy ch·∫ø c≈© ƒë√£ l·ªói th·ªùi:

**N·ªôi dung ch√≠nh:**
1. C·∫•u tr√∫c t·ªï ch·ª©c v√† ch·ª©c nƒÉng nhi·ªám v·ª•
2. Quy ƒë·ªãnh v·ªÅ th√†nh vi√™n v√† quy·ªÅn l·ª£i
3. Quy tr√¨nh t·ªï ch·ª©c c√°c ho·∫°t ƒë·ªông
4. Qu·∫£n l√Ω t√†i ch√≠nh v√† t√†i s·∫£n
5. Quy ƒë·ªãnh v·ªÅ khen th∆∞·ªüng v√† k·ª∑ lu·∫≠t
6. C√°c vƒÉn b·∫£n m·∫´u v√† bi·ªÉu ƒë∆°n

**Ti·∫øn ƒë·ªô:**
- Giai ƒëo·∫°n 1: Nghi√™n c·ª©u quy ch·∫ø c√°c t·ªï ch·ª©c kh√°c (2 tu·∫ßn)
- Giai ƒëo·∫°n 2: So·∫°n th·∫£o d·ª± th·∫£o (3 tu·∫ßn)
- Giai ƒëo·∫°n 3: L·∫•y √Ω ki·∫øn ƒë√≥ng g√≥p (2 tu·∫ßn)
- Giai ƒëo·∫°n 4: Ho√†n thi·ªán v√† ph√™ duy·ªát (1 tu·∫ßn)

**L∆∞u √Ω:**
- C·∫ßn tham kh·∫£o quy ch·∫ø m·∫´u c·ªßa c·∫•p tr√™n
- ƒê·∫£m b·∫£o ph√π h·ª£p v·ªõi ph√°p lu·∫≠t hi·ªán h√†nh
- Ph·∫£i ƒë∆∞·ª£c th√¥ng qua t·∫°i ƒê·∫°i h·ªôi
                """,
                priority=TaskPriority.URGENT,
                status=TaskStatus.OVERDUE,
                assigned_to=member_ids[0],
                assigned_by=member_ids[3],
                start_date=datetime(2024, 1, 15),
                due_date=yesterday,
                estimated_hours=80.0,
                actual_hours=45.0,
                progress_percentage=60,
                notes="C√¥ng vi·ªác b·ªã ch·∫≠m ti·∫øn ƒë·ªô do ph·∫£i tham kh·∫£o th√™m nhi·ªÅu t√†i li·ªáu ph√°p l√Ω. C·∫ßn gia h·∫°n th√™m 2 tu·∫ßn."
            ),
            TaskModel(
                title="L·∫≠p k·∫ø ho·∫°ch ƒë√†o t·∫°o k·ªπ nƒÉng cho ƒëo√†n vi√™n",
                description="""
Thi·∫øt k·∫ø ch∆∞∆°ng tr√¨nh ƒë√†o t·∫°o k·ªπ nƒÉng to√†n di·ªán cho ƒëo√†n vi√™n:

**C√°c kh√≥a ƒë√†o t·∫°o:**
1. K·ªπ nƒÉng giao ti·∫øp v√† thuy·∫øt tr√¨nh
2. K·ªπ nƒÉng l√£nh ƒë·∫°o v√† qu·∫£n l√Ω
3. K·ªπ nƒÉng l√†m vi·ªác nh√≥m
4. Tin h·ªçc vƒÉn ph√≤ng n√¢ng cao
5. Ti·∫øng Anh giao ti·∫øp c∆° b·∫£n

**Y√™u c·∫ßu:**
- M·ªói kh√≥a h·ªçc 16 gi·ªù (2 ng√†y)
- T·ªëi ƒëa 25 h·ªçc vi√™n/kh√≥a
- C√≥ ch·ª©ng ch·ªâ ho√†n th√†nh
- Gi·∫£ng vi√™n c√≥ kinh nghi·ªám

**K·∫ø ho·∫°ch tri·ªÉn khai:**
- Th√°ng 5: Kh√≥a giao ti·∫øp v√† thuy·∫øt tr√¨nh
- Th√°ng 6: Kh√≥a l√£nh ƒë·∫°o v√† qu·∫£n l√Ω
- Th√°ng 7: Kh√≥a l√†m vi·ªác nh√≥m
- Th√°ng 8: Kh√≥a tin h·ªçc vƒÉn ph√≤ng
- Th√°ng 9: Kh√≥a ti·∫øng Anh

**Ng√¢n s√°ch d·ª± ki·∫øn:** 100,000,000 VNƒê
                """,
                priority=TaskPriority.MEDIUM,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[1],
                assigned_by=member_ids[0],
                start_date=next_week,
                due_date=datetime(2024, 5, 1),
                estimated_hours=50.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="C·∫ßn li√™n h·ªá t√¨m gi·∫£ng vi√™n v√† ƒë·ªãa ƒëi·ªÉm t·ªï ch·ª©c tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu"
            ),
            TaskModel(
                title="Ki·ªÉm tra v√† c·∫≠p nh·∫≠t danh s√°ch ƒëo√†n vi√™n",
                description="""
R√† so√°t v√† c·∫≠p nh·∫≠t to√†n b·ªô danh s√°ch ƒëo√†n vi√™n, h·ªôi vi√™n c·ªßa t·ªï ch·ª©c:

**C√¥ng vi·ªác c·ª• th·ªÉ:**
1. Ki·ªÉm tra th√¥ng tin c√° nh√¢n c·ªßa t·ª´ng th√†nh vi√™n
2. C·∫≠p nh·∫≠t ƒë·ªãa ch·ªâ, s·ªë ƒëi·ªán tho·∫°i m·ªõi
3. Ghi nh·∫≠n nh·ªØng thay ƒë·ªïi v·ªÅ c√¥ng vi·ªác, ch·ª©c v·ª•
4. X√°c ƒë·ªãnh tr·∫°ng th√°i ho·∫°t ƒë·ªông (active/inactive)
5. L√†m th·∫ª ƒëo√†n vi√™n m·ªõi cho nƒÉm 2024
6. T·∫°o file Excel qu·∫£n l√Ω danh s√°ch

**Ph∆∞∆°ng ph√°p:**
- G·ª≠i form kh·∫£o s√°t online cho t·∫•t c·∫£ th√†nh vi√™n
- ƒêi·ªán tho·∫°i x√°c nh·∫≠n v·ªõi nh·ªØng ng∆∞·ªùi ch∆∞a ph·∫£n h·ªìi
- H·ªçp v·ªõi c√°c chi ƒëo√†n ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin
- S·ª≠ d·ª•ng ph·∫ßn m·ªÅm qu·∫£n l√Ω th√†nh vi√™n

**S·∫£n ph·∫©m ƒë·∫ßu ra:**
- File Excel danh s√°ch c·∫≠p nh·∫≠t
- 150 th·∫ª ƒëo√†n vi√™n nƒÉm 2024
- B√°o c√°o th·ªëng k√™ th√†nh vi√™n
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.IN_PROGRESS,
                assigned_to=member_ids[2],
                assigned_by=member_ids[3],
                start_date=datetime(2024, 3, 1),
                due_date=datetime(2024, 4, 15),
                estimated_hours=35.0,
                actual_hours=20.0,
                progress_percentage=30,
                notes="ƒê√£ g·ª≠i form kh·∫£o s√°t, thu v·ªÅ ƒë∆∞·ª£c 60% ph·∫£n h·ªìi. ƒêang ti·∫øp t·ª•c li√™n h·ªá nh·ªØng ng∆∞·ªùi ch∆∞a tr·∫£ l·ªùi."
            ),
            TaskModel(
                title="T·ªï ch·ª©c tour du l·ªãch h√® cho ƒëo√†n vi√™n",
                description="""
L√™n k·∫ø ho·∫°ch v√† t·ªï ch·ª©c chuy·∫øn du l·ªãch h√® d√†nh cho ƒëo√†n vi√™n v√† gia ƒë√¨nh:

**ƒê·ªãa ƒëi·ªÉm ƒë·ªÅ xu·∫•t:**
1. ƒê√† L·∫°t (3 ng√†y 2 ƒë√™m)
2. Ph√∫ Qu·ªëc (4 ng√†y 3 ƒë√™m)  
3. H·∫° Long (2 ng√†y 1 ƒë√™m)

**C·∫ßn chu·∫©n b·ªã:**
1. Kh·∫£o s√°t √Ω ki·∫øn ƒëo√†n vi√™n v·ªÅ ƒë·ªãa ƒëi·ªÉm
2. Li√™n h·ªá v√† ƒë√†m ph√°n v·ªõi c√¥ng ty l·ªØ h√†nh
3. L·∫≠p ng√¢n s√°ch chi ti·∫øt
4. Xin ph√©p l√£nh ƒë·∫°o ƒë∆°n v·ªã
5. T·ªï ch·ª©c ƒëƒÉng k√Ω tham gia
6. Chu·∫©n b·ªã h√†nh l√Ω v√† gi·∫•y t·ªù c·∫ßn thi·∫øt

**Th·ªùi gian d·ª± ki·∫øn:** Cu·ªëi th√°ng 7/2024
**S·ªë l∆∞·ª£ng:** 80-100 ng∆∞·ªùi
**Ng√¢n s√°ch:** 150,000,000 VNƒê

**L∆∞u √Ω:**
- C·∫ßn c√≥ b·∫£o hi·ªÉm du l·ªãch cho t·∫•t c·∫£ th√†nh vi√™n
- Ch∆∞∆°ng tr√¨nh ph√π h·ª£p v·ªõi m·ªçi l·ª©a tu·ªïi
- D·ª± ph√≤ng ph∆∞∆°ng √°n thay th·∫ø khi th·ªùi ti·∫øt x·∫•u
                """,
                priority=TaskPriority.LOW,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[1],
                assigned_by=member_ids[0],
                start_date=datetime(2024, 5, 1),
                due_date=datetime(2024, 7, 15),
                estimated_hours=45.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="Ch·ªù ph√™ duy·ªát ng√¢n s√°ch t·ª´ Ban ch·∫•p h√†nh m·ªõi b·∫Øt ƒë·∫ßu tri·ªÉn khai"
            ),
            TaskModel(
                title="B√°o c√°o t√†i ch√≠nh qu√Ω I/2024",
                description="""
L·∫≠p b√°o c√°o t√†i ch√≠nh chi ti·∫øt cho qu√Ω I/2024:

**N·ªôi dung b√°o c√°o:**
1. T√¨nh h√¨nh thu chi trong qu√Ω
2. B·∫£ng c√¢n ƒë·ªëi t√†i s·∫£n - ngu·ªìn v·ªën
3. Ph√¢n t√≠ch c√°c kho·∫£n thu chi b·∫•t th∆∞·ªùng
4. So s√°nh v·ªõi c√πng k·ª≥ nƒÉm tr∆∞·ªõc
5. D·ª± b√°o t√¨nh h√¨nh t√†i ch√≠nh qu√Ω II

**T√†i li·ªáu c·∫ßn thi·∫øt:**
- S·ªï s√°ch k·∫ø to√°n qu√Ω I
- Ch·ª©ng t·ª´ thu chi g·ªëc
- B·∫£ng k√™ ng√¢n h√†ng
- H√≥a ƒë∆°n, ch·ª©ng t·ª´ li√™n quan

**Y√™u c·∫ßu:**
- B√°o c√°o ph·∫£i ch√≠nh x√°c, minh b·∫°ch
- Tu√¢n th·ªß chu·∫©n m·ª±c k·∫ø to√°n
- C√≥ √Ω ki·∫øn c·ªßa Ban ki·ªÉm so√°t
- Tr√¨nh b√†y r√µ r√†ng, d·ªÖ hi·ªÉu
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.COMPLETED,
                assigned_to=member_ids[2],
                assigned_by=member_ids[3],
                start_date=datetime(2024, 4, 1),
                due_date=datetime(2024, 4, 10),
                completed_date=datetime(2024, 4, 8),
                estimated_hours=20.0,
                actual_hours=18.0,
                progress_percentage=100,
                notes="B√°o c√°o ƒë√£ ho√†n th√†nh v√† ƒë∆∞·ª£c Ban ch·∫•p h√†nh ph√™ duy·ªát. T√¨nh h√¨nh t√†i ch√≠nh ·ªïn ƒë·ªãnh."
            ),
            # Th√™m nhi·ªÅu tasks m·ªõi cho demo
            TaskModel(
                title="Thi·∫øt k·∫ø poster tuy√™n truy·ªÅn",
                description="""
Thi·∫øt k·∫ø c√°c poster tuy√™n truy·ªÅn cho c√°c ho·∫°t ƒë·ªông s·∫Øp t·ªõi:

**Y√™u c·∫ßu thi·∫øt k·∫ø:**
1. Poster cho Ng√†y h·ªôi th·ªÉ thao
2. Poster cho ch∆∞∆°ng tr√¨nh t·ª´ thi·ªán
3. Poster tuy·ªÉn ƒëo√†n vi√™n m·ªõi
4. Banner cho website

**Th√¥ng s·ªë k·ªπ thu·∫≠t:**
- K√≠ch th∆∞·ªõc: A3 cho poster, 1200x400px cho banner
- ƒê·ªãnh d·∫°ng: AI, PSD, PNG, JPG
- M√†u s·∫Øc: Theo b·ªô nh·∫≠n di·ªán t·ªï ch·ª©c
- Font ch·ªØ: Roboto, Arial

**Deadline:**
- Draft 1: 3 ng√†y
- Final: 1 tu·∫ßn
                """,
                priority=TaskPriority.MEDIUM,
                status=TaskStatus.IN_PROGRESS,
                assigned_to=member_ids[1],
                assigned_by=member_ids[0],
                start_date=now - timedelta(days=2),
                due_date=now + timedelta(days=5),
                estimated_hours=16.0,
                actual_hours=8.0,
                progress_percentage=50,
                notes="ƒê√£ ho√†n th√†nh 2/4 poster, ƒëang l√†m poster tuy·ªÉn ƒëo√†n vi√™n m·ªõi"
            ),
            TaskModel(
                title="Chu·∫©n b·ªã vƒÉn ph√≤ng ph·∫©m cho nƒÉm h·ªçc m·ªõi",
                description="""
Mua s·∫Øm v√† chu·∫©n b·ªã vƒÉn ph√≤ng ph·∫©m cho ho·∫°t ƒë·ªông nƒÉm h·ªçc 2024-2025:

**Danh s√°ch c·∫ßn mua:**
1. Gi·∫•y A4: 20 ream
2. B√∫t bi: 100 c√°i
3. B√∫t ch√¨: 50 c√°i  
4. T·∫©y: 30 c√°i
5. K·∫πp gi·∫•y: 10 h·ªôp
6. Ghim ƒë√≥ng: 5 h·ªôp
7. BƒÉng keo: 20 cu·ªôn
8. Th∆∞ m·ª•c: 50 c√°i

**Ng√¢n s√°ch:** 5,000,000 VNƒê
**Nh√† cung c·∫•p:** C√¥ng ty Thi√™n Long, B√¨nh Minh
**Giao h√†ng:** Tr∆∞·ªõc 15/9/2024
                """,
                priority=TaskPriority.LOW,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[2],
                assigned_by=member_ids[3],
                start_date=now + timedelta(days=1),
                due_date=now + timedelta(days=10),
                estimated_hours=8.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="Ch·ªù ph√™ duy·ªát ng√¢n s√°ch t·ª´ ph√≤ng t√†i ch√≠nh"
            ),
            TaskModel(
                title="T·ªï ch·ª©c kh√≥a ƒë√†o t·∫°o k·ªπ nƒÉng m·ªÅm",
                description="""
T·ªï ch·ª©c kh√≥a ƒë√†o t·∫°o k·ªπ nƒÉng m·ªÅm cho ƒëo√†n vi√™n:

**N·ªôi dung ƒë√†o t·∫°o:**
1. K·ªπ nƒÉng giao ti·∫øp hi·ªáu qu·∫£
2. K·ªπ nƒÉng thuy·∫øt tr√¨nh
3. K·ªπ nƒÉng l√†m vi·ªác nh√≥m
4. Qu·∫£n l√Ω th·ªùi gian
5. T∆∞ duy s√°ng t·∫°o

**Logistics:**
- Th·ªùi gian: 2 ng√†y (th·ª© 7-ch·ªß nh·∫≠t)
- ƒê·ªãa ƒëi·ªÉm: H·ªôi tr∆∞·ªùng c√¥ng ty
- S·ªë l∆∞·ª£ng: 50 h·ªçc vi√™n
- Gi·∫£ng vi√™n: M·ªùi t·ª´ b√™n ngo√†i

**Chu·∫©n b·ªã:**
- Li√™n h·ªá gi·∫£ng vi√™n
- ƒê·∫∑t su·∫•t ƒÉn
- In t√†i li·ªáu
- Chu·∫©n b·ªã thi·∫øt b·ªã
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[0],
                assigned_by=member_ids[3],
                start_date=now + timedelta(days=3),
                due_date=now + timedelta(days=21),
                estimated_hours=40.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="C·∫ßn x√°c ƒë·ªãnh ng√¢n s√°ch v√† ph√™ duy·ªát k·∫ø ho·∫°ch tr∆∞·ªõc khi tri·ªÉn khai"
            ),
            TaskModel(
                title="S·ª≠a ch·ªØa √¢m thanh ph√≤ng h·ªôi th·∫£o",
                description="""
S·ª≠a ch·ªØa h·ªá th·ªëng √¢m thanh ph√≤ng h·ªôi th·∫£o b·ªã h·ªèng:

**V·∫•n ƒë·ªÅ hi·ªán t·∫°i:**
- Micro kh√¥ng b·∫Øt √¢m
- Loa b·ªã r√®, k√™u to
- Mixer c√≥ ti·∫øng ·ªìn
- D√¢y c√°p b·ªã ƒë·ª©t m·ªôt s·ªë ƒëo·∫°n

**C·∫ßn l√†m:**
1. Ki·ªÉm tra to√†n b·ªô h·ªá th·ªëng
2. Thay th·∫ø linh ki·ªán h·ªèng
3. CƒÉng l·∫°i d√¢y c√°p
4. Test th·ª≠ to√†n h·ªá th·ªëng
5. B·∫£o d∆∞·ª°ng ƒë·ªãnh k·ª≥

**D·ª± ki·∫øn chi ph√≠:** 3,000,000 VNƒê
**Th·ªùi gian s·ª≠a:** 2 ng√†y
                """,
                priority=TaskPriority.URGENT,
                status=TaskStatus.IN_PROGRESS,
                assigned_to=member_ids[3],
                assigned_by=member_ids[0],
                start_date=yesterday,
                due_date=tomorrow,
                estimated_hours=16.0,
                actual_hours=10.0,
                progress_percentage=70,
                notes="ƒê√£ x√°c ƒë·ªãnh ƒë∆∞·ª£c nguy√™n nh√¢n, ƒëang ch·ªù linh ki·ªán thay th·∫ø t·ª´ nh√† cung c·∫•p"
            ),
            TaskModel(
                title="C·∫≠p nh·∫≠t h·ªì s∆° th√†nh vi√™n cho nƒÉm 2024",
                description="""
C·∫≠p nh·∫≠t v√† r√† so√°t h·ªì s∆° th√†nh vi√™n theo quy ƒë·ªãnh m·ªõi:

**C√¥ng vi·ªác c·∫ßn l√†m:**
1. Thu th·∫≠p th√¥ng tin c·∫≠p nh·∫≠t t·ª´ th√†nh vi√™n
2. Scan v√† l∆∞u tr·ªØ gi·∫•y t·ªù m·ªõi
3. C·∫≠p nh·∫≠t v√†o h·ªá th·ªëng qu·∫£n l√Ω
4. In th·∫ª th√†nh vi√™n m·ªõi
5. L∆∞u tr·ªØ h·ªì s∆° theo quy ƒë·ªãnh

**Gi·∫•y t·ªù c·∫ßn c·∫≠p nh·∫≠t:**
- CMND/CCCD m·ªõi
- B·∫±ng c·∫•p m·ªõi (n·∫øu c√≥)
- Th√¥ng tin li√™n h·ªá
- N∆°i l√†m vi·ªác hi·ªán t·∫°i

**S·ªë l∆∞·ª£ng:** 150 h·ªì s∆°
**Th·ªùi h·∫°n:** 1 th√°ng
                """,
                priority=TaskPriority.MEDIUM,
                status=TaskStatus.ON_HOLD,
                assigned_to=member_ids[1],
                assigned_by=member_ids[2],
                start_date=last_week,
                due_date=next_month,
                estimated_hours=60.0,
                actual_hours=15.0,
                progress_percentage=25,
                notes="T·∫°m d·ª´ng do ƒëang ch·ªù h∆∞·ªõng d·∫´n m·ªõi t·ª´ c·∫•p tr√™n v·ªÅ m·∫´u h·ªì s∆°"
            ),
            TaskModel(
                title="L√™n k·∫ø ho·∫°ch ho·∫°t ƒë·ªông cu·ªëi nƒÉm 2024",
                description="""
X√¢y d·ª±ng k·∫ø ho·∫°ch t·ªïng th·ªÉ cho c√°c ho·∫°t ƒë·ªông cu·ªëi nƒÉm:

**C√°c ho·∫°t ƒë·ªông ch√≠nh:**
1. **Th√°ng 10:** K·ª∑ ni·ªám ng√†y Ph·ª• n·ªØ Vi·ªát Nam
2. **Th√°ng 11:** H·ªôi ngh·ªã t·ªïng k·∫øt nƒÉm
3. **Th√°ng 12:** 
   - Gala dinner cu·ªëi nƒÉm
   - Trao gi·∫£i th∆∞·ªüng xu·∫•t s·∫Øc
   - Ti·ªác t·∫•t ni√™n

**C·∫ßn chu·∫©n b·ªã:**
- Ng√¢n s√°ch chi ti·∫øt
- ƒê·ªãa ƒëi·ªÉm t·ªï ch·ª©c
- Ch∆∞∆°ng tr√¨nh ngh·ªá thu·∫≠t
- Danh s√°ch kh√°ch m·ªùi
- Qu√† t·∫∑ng v√† ph·∫ßn th∆∞·ªüng

**Ng√¢n s√°ch d·ª± ki·∫øn:** 200,000,000 VNƒê
**Timeline:** B·∫Øt ƒë·∫ßu chu·∫©n b·ªã t·ª´ th√°ng 9
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.NOT_STARTED,
                assigned_to=member_ids[0],
                assigned_by=member_ids[3],
                start_date=next_week,
                due_date=datetime(2024, 12, 31),
                estimated_hours=80.0,
                actual_hours=0.0,
                progress_percentage=0,
                notes="C·∫ßn h·ªçp Ban ch·∫•p h√†nh ƒë·ªÉ th·ªëng nh·∫•t ph∆∞∆°ng √°n tr∆∞·ªõc khi tri·ªÉn khai"
            ),
            TaskModel(
                title="Backup v√† b·∫£o m·∫≠t d·ªØ li·ªáu h·ªá th·ªëng",
                description="""
Th·ª±c hi·ªán backup v√† tƒÉng c∆∞·ªùng b·∫£o m·∫≠t cho h·ªá th·ªëng IT:

**C√¥ng vi·ªác backup:**
1. Backup database h√†ng tu·∫ßn
2. Backup files quan tr·ªçng
3. Test ph·ª•c h·ªìi d·ªØ li·ªáu
4. L∆∞u tr·ªØ backup ngo√†i site

**TƒÉng c∆∞·ªùng b·∫£o m·∫≠t:**
1. C·∫≠p nh·∫≠t antivirus
2. C·∫≠p nh·∫≠t Windows Update
3. Thay ƒë·ªïi password ƒë·ªãnh k·ª≥
4. Ki·ªÉm tra firewall
5. Qu√©t malware to√†n h·ªá th·ªëng

**L·ªãch th·ª±c hi·ªán:**
- Backup: M·ªói ch·ªß nh·∫≠t
- B·∫£o m·∫≠t: M·ªói th√°ng
- Ki·ªÉm tra: M·ªói qu√Ω
                """,
                priority=TaskPriority.HIGH,
                status=TaskStatus.IN_PROGRESS,
                assigned_to=member_ids[2],
                assigned_by=member_ids[0],
                start_date=now - timedelta(days=5),
                due_date=now + timedelta(days=2),
                estimated_hours=12.0,
                actual_hours=8.0,
                progress_percentage=65,
                notes="ƒê√£ ho√†n th√†nh backup, ƒëang th·ª±c hi·ªán c·∫≠p nh·∫≠t b·∫£o m·∫≠t"
            ),
            TaskModel(
                title="Kh·∫£o s√°t √Ω ki·∫øn ƒëo√†n vi√™n v·ªÅ ho·∫°t ƒë·ªông 2024",
                description="""
Ti·∫øn h√†nh kh·∫£o s√°t √Ω ki·∫øn ƒëo√†n vi√™n v·ªÅ ch·∫•t l∆∞·ª£ng ho·∫°t ƒë·ªông nƒÉm 2024:

**N·ªôi dung kh·∫£o s√°t:**
1. ƒê√°nh gi√° c√°c ho·∫°t ƒë·ªông ƒë√£ tham gia
2. √ù ki·∫øn v·ªÅ ch∆∞∆°ng tr√¨nh ƒë√†o t·∫°o
3. G√≥p √Ω v·ªÅ ho·∫°t ƒë·ªông t√†i ch√≠nh
4. ƒê·ªÅ xu·∫•t ho·∫°t ƒë·ªông nƒÉm 2025
5. ƒê√°nh gi√° Ban ch·∫•p h√†nh

**Ph∆∞∆°ng ph√°p:**
- Kh·∫£o s√°t online qua Google Form
- Ph·ªèng v·∫•n tr·ª±c ti·∫øp m·ªôt s·ªë ƒëo√†n vi√™n
- H·ªçp nh√≥m t·∫≠p trung (Focus Group)

**M·ª•c ti√™u:** 90% ƒëo√†n vi√™n tham gia kh·∫£o s√°t
**Th·ªùi gian:** 2 tu·∫ßn
**S·∫£n ph·∫©m:** B√°o c√°o kh·∫£o s√°t 50 trang
                """,
                priority=TaskPriority.MEDIUM,
                status=TaskStatus.CANCELLED,
                assigned_to=member_ids[1],
                assigned_by=member_ids[3],
                start_date=datetime(2024, 6, 1),
                due_date=datetime(2024, 6, 15),
                estimated_hours=24.0,
                actual_hours=4.0,
                progress_percentage=15,
                notes="H·ªßy do tr√πng th·ªùi gian v·ªõi kh·∫£o s√°t c·ªßa c·∫•p tr√™n, s·∫Ω t·ªï ch·ª©c l·∫°i v√†o th√°ng 10"
            )
        ]
        
        # Th√™m d·ªØ li·ªáu v√†o session
        session.add_all(sample_tasks)
        session.commit()
        session.close()
        
        print(f"‚úÖ Successfully inserted {len(sample_tasks)} sample tasks!")
        return True
        
    except Exception as e:
        print(f"‚ùå Error inserting sample tasks: {e}")
        if 'session' in locals():
            session.rollback()
            session.close()
        return False


def insert_sample_data():
    """Th√™m t·∫•t c·∫£ d·ªØ li·ªáu m·∫´u v√†o database"""
    print("üìä Inserting sample data...")
    
    success = True
    
    # Insert members first (v√¨ c√°c b·∫£ng kh√°c c√≥ th·ªÉ tham chi·∫øu ƒë·∫øn members)
    if not insert_sample_members():
        success = False
    
    # Insert reports
    if not insert_sample_reports():
        success = False
    
    # Insert tasks  
    if not insert_sample_tasks():
        success = False
    
    if success:
        print("üéâ All sample data inserted successfully!")
    else:
        print("‚ùå Some errors occurred while inserting sample data!")
    
    return success


def init_database():
    """Kh·ªüi t·∫°o PostgreSQL database v√† t·∫°o c√°c b·∫£ng"""
    print("üîß Initializing PostgreSQL database...")
    
    # Test k·∫øt n·ªëi
    if not db_manager.test_connection():
        print("‚ùå PostgreSQL database connection failed!")
        return False
    
    print("‚úÖ PostgreSQL database connection successful!")
    
    # T·∫°o c√°c b·∫£ng
    if create_tables():
        print("‚úÖ PostgreSQL database tables created successfully!")
        
        # Th√™m d·ªØ li·ªáu m·∫´u
        if insert_sample_data():
            print("üéâ PostgreSQL database initialization with sample data completed!")
            return True
        else:
            print("‚ö†Ô∏è Database tables created but sample data insertion failed!")
            return True  # V·∫´n coi l√† th√†nh c√¥ng v√¨ b·∫£ng ƒë√£ t·∫°o ƒë∆∞·ª£c
    else:
        print("‚ùå PostgreSQL database initialization failed!")
        return False


if __name__ == "__main__":
    import sys
    
    if len(sys.argv) > 1:
        if sys.argv[1] == "sample-data":
            # Ch·ªâ th√™m d·ªØ li·ªáu m·∫´u
            print("üìä Adding sample data to existing database...")
            if insert_sample_data():
                print("üéâ Sample data added successfully!")
            else:
                print("‚ùå Failed to add sample data!")
        elif sys.argv[1] == "drop":
            # X√≥a t·∫•t c·∫£ b·∫£ng
            print("‚ö†Ô∏è Dropping all tables...")
            if drop_tables():
                print("‚úÖ All tables dropped successfully!")
        elif sys.argv[1] == "recreate":
            # X√≥a v√† t·∫°o l·∫°i database v·ªõi d·ªØ li·ªáu m·∫´u
            print("üîÑ Recreating database...")
            drop_tables()
            init_database()
        else:
            print("Usage:")
            print("  python setup.py                 # Initialize database with sample data")
            print("  python setup.py sample-data     # Add sample data only")
            print("  python setup.py drop            # Drop all tables")
            print("  python setup.py recreate        # Drop and recreate database")
    else:
        # Ch·∫°y script ƒë·ªÉ kh·ªüi t·∫°o database v·ªõi d·ªØ li·ªáu m·∫´u
        init_database()